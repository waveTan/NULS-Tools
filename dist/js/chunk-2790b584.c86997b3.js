(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2790b584"],{"188a":function(e,s,t){},"3b2b":function(e,s,t){var r=t("7726"),a=t("5dbc"),n=t("86cc").f,o=t("9093").f,i=t("aae3"),l=t("0bfb"),c=r.RegExp,d=c,f=c.prototype,u=/a/g,m=/a/g,p=new c(u)!==u;if(t("9e1e")&&(!p||t("79e5")((function(){return m[t("2b4c")("match")]=!1,c(u)!=u||c(m)==m||"/a/i"!=c(u,"i")})))){c=function(e,s){var t=this instanceof c,r=i(e),n=void 0===s;return!t&&r&&e.constructor===c&&n?e:a(p?new d(r&&!n?e.source:e,s):d((r=e instanceof c)?e.source:e,r&&n?l.call(e):s),t?this:f,c)};for(var b=function(e){e in c||n(c,e,{configurable:!0,get:function(){return d[e]},set:function(s){d[e]=s}})},h=o(d),g=0;h.length>g;)b(h[g++]);f.constructor=c,c.prototype=f,t("2aba")(r,"RegExp",c)}t("7a56")("RegExp")},7672:function(e,s,t){"use strict";t("188a")},abaf:function(e,s,t){"use strict";t("f6e7")},c054:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.lockedLoading,expression:"lockedLoading"}],staticClass:"w630 transfer"},[t("div",{staticClass:"title tc"},[e._v(e._s(e.$t("locking.locking0")))]),t("el-form",{ref:"transferForm",staticClass:"transfer_form",attrs:{model:e.transferForm,"status-icon":"",rules:e.transferRules}},[t("el-form-item",{attrs:{label:e.$t("locking.locking1")}},[t("el-input",{attrs:{disabled:"disabled"},model:{value:e.transferForm.fromAddress,callback:function(s){e.$set(e.transferForm,"fromAddress",s)},expression:"transferForm.fromAddress"}})],1),t("el-form-item",{attrs:{label:e.$t("locking.locking2")}},[t("el-input",{attrs:{disabled:"disabled"},model:{value:e.transferForm.assets,callback:function(s){e.$set(e.transferForm,"assets",s)},expression:"transferForm.assets"}})],1),t("el-form-item",{attrs:{label:e.$t("locking.locking3"),prop:"toAddress"}},[t("el-input",{model:{value:e.transferForm.toAddress,callback:function(s){e.$set(e.transferForm,"toAddress",s)},expression:"transferForm.toAddress"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.transferForm.time,expression:"transferForm.time"}],staticClass:"fyellow font12",staticStyle:{margin:"-18px 0 0 0"}},[e._v("\n      "+e._s(e.$t("locking.locking4"))+"\n    ")]),t("el-form-item",{attrs:{label:e.$t("locking.locking5"),prop:"amount"}},[t("el-input",{model:{value:e.transferForm.amount,callback:function(s){e.$set(e.transferForm,"amount",s)},expression:"transferForm.amount"}})],1),t("el-form-item",{staticClass:"locked_time",attrs:{label:e.$t("locking.locking6"),prop:"time"}},[t("el-date-picker",{attrs:{type:"datetime",placeholder:e.$t("locking.locking7"),"value-format":"timestamp","picker-options":e.expireTimeOption},model:{value:e.transferForm.time,callback:function(s){e.$set(e.transferForm,"time",s)},expression:"transferForm.time"}},[e._v(">\n      ")])],1),t("el-form-item",{attrs:{label:e.$t("locking.locking8")}},[t("el-input",{attrs:{type:"textarea",rows:3,maxlength:"200","show-word-limit":""},model:{value:e.transferForm.remarks,callback:function(s){e.$set(e.transferForm,"remarks",s)},expression:"transferForm.remarks"}})],1),t("div",{staticClass:"font14"},[t("label",[e._v(e._s(e.$t("locking.locking9")))]),e._v(e._s(e.transferForm.fee)+" "),t("span",{staticClass:"fCN"},[e._v("NULS")])]),t("el-form-item",{staticClass:"tc"},[t("el-button",{attrs:{type:"success"},on:{click:function(s){return e.submitForm("transferForm")}}},[e._v(e._s(e.$t("locking.locking10")))])],1)],1),t("el-dialog",{staticClass:"dialog",attrs:{title:e.$t("locking.locking11"),center:"",width:e.dialogWidth,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogVisible},on:{"update:visible":function(s){e.dialogVisible=s}}},[t("div",{staticClass:"info"},[t("ul",[t("li",[t("span",[e._v(e._s(e.$t("locking.locking1")))]),t("font",[e._v(e._s(e.transferForm.fromAddress))])],1),t("li",[t("span",[e._v(e._s(e.$t("locking.locking3")))]),t("font",[e._v(e._s(e.transferForm.toAddress))])],1),t("li",[t("span",[e._v(e._s(e.$t("locking.locking5")))]),t("font",{staticClass:"fW600"},[e._v(e._s(e.transferForm.amount))]),e._v(" "),t("font",{staticClass:"fCN"},[e._v("NULS")])],1),t("li",[t("span",[e._v(e._s(e.$t("locking.locking9")))]),t("font",[e._v(e._s(e.transferForm.fee))]),e._v(" "),t("font",{staticClass:"fCN"},[e._v("NULS")])],1),t("li",{directives:[{name:"show",rawName:"v-show",value:e.transferForm.time,expression:"transferForm.time"}]},[t("span",[e._v(e._s(e.$t("locking.locking6")))]),t("font",{staticClass:"fred"},[e._v(e._s(e.transferForm.times))])],1),t("li",{staticClass:"cb"},[t("span",[e._v(e._s(e.$t("locking.locking8")))]),t("font",[e._v(e._s(e.transferForm.remarks))])],1)])]),t("div",{staticClass:"dialog-footer cb",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelDialog}},[e._v(e._s(e.$t("public.cancel")))]),t("el-button",{attrs:{type:"success"},on:{click:e.confirmDialog}},[e._v(e._s(e.$t("public.confirm")))])],1)]),t("Password",{ref:"password",on:{passwordSubmit:e.lockedPassSubmit}})],1)},a=[],n=(t("c5f6"),t("3b2b"),t("96cf"),t("1da1")),o=t("0ad0"),i=t.n(o),l=t("c32d"),c=t.n(l),d=t("db49"),f=t("6ace"),u=t("1959"),m=t("d1f0"),p={data:function(){var e=this,s=function(){var s=Object(n["a"])(regeneratorRuntime.mark((function s(t,r,a){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n={right:!1},!(20<r.length&&r.length<60)){s.next=5;break}return s.next=4,i.a.verifyAddress(r);case 4:n=s.sent;case 5:if(r){s.next=9;break}return s.abrupt("return",a(new Error(e.$t("locking.locking12"))));case 9:if(n.right||n.chainId===d["e"].chainId){s.next=13;break}return s.abrupt("return",a(new Error(e.$t("locking.locking13"))));case 13:a();case 14:case"end":return s.stop()}}),s)})));return function(e,t,r){return s.apply(this,arguments)}}(),t=function(s,t,r){var a=new RegExp("^([1-9][\\d]{0,20}|0)(\\.[\\d]{1,8})?$");""===t?r(new Error(e.$t("locking.locking14"))):a.exec(t)?r():r(new Error(e.$t("locking.locking15")))};return{accontInfo:localStorage.hasOwnProperty("accountInfo")?JSON.parse(localStorage.getItem("accountInfo")):{},transferForm:{fromAddress:"",toAddress:"",assets:"NULS",amount:"",time:"",remarks:"",fee:.001},transferRules:{toAddress:[{validator:s,trigger:["blur","change"]}],amount:[{validator:t,trigger:["blur","change"]}]},expireTimeOption:{disabledDate:function(e){return e.getTime()<=Date.now()}},dialogVisible:!1,dialogWidth:"98%",lockedLoading:!1}},created:function(){this.transferForm.fromAddress=this.accontInfo.address,this.dialogWidth=Object(f["b"])()?"35rem":"98%"},mounted:function(){},components:{Password:m["a"]},methods:{submitForm:function(e){var s=this;this.accontInfo.address?this.$refs[e].validate((function(e){if(!e)return!1;s.transferForm.times=c()(Object(f["l"])(s.transferForm.time)).format("YYYY-MM-DD HH:mm:ss"),s.dialogVisible=!0})):this.$message({message:this.$t("tips.tips21"),type:"error"})},cancelDialog:function(){this.dialogVisible=!1},confirmDialog:function(){this.$refs.password.showPassword(!0)},lockedPassSubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(s){var t,r,a,n,o,l,c,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["e"])(this.accontInfo,s);case 2:if(t=e.sent,t.success){e.next=6;break}return this.$message({message:this.$t("tips.tips4"),type:"error",duration:3e3}),e.abrupt("return");case 6:return this.dialogVisible=!1,this.lockedLoading=!0,r=this.transferForm,r.amount=Number(Object(f["p"])(r.amount,8)),r.fee=Number(Object(f["p"])(r.fee,8)),r.assetsChainId=d["e"].chainId,r.assetsId=d["e"].assetsId,e.next=15,Object(u["c"])(t.address,d["e"].chainId,d["e"].assetsId);case 15:if(a=e.sent,n=Number(Object(f["d"])(r.amount,r.fee)),r.minValue=n,!(a.success&&a.data.balance<n)){e.next=21;break}return this.$message({message:this.$t("tips.tips20"),type:"error"}),e.abrupt("return",{success:!1});case 21:return e.next=23,Object(u["d"])(r,a,2);case 23:return o=e.sent,e.next=26,i.a.transactionAssemble(o.data.inputs,o.data.outputs,Object(f["m"])(r.remarks),2);case 26:return l=e.sent,e.next=29,i.a.transactionSerialize(t.pri,t.pub,l);case 29:return c=e.sent,e.next=32,Object(u["f"])(c);case 32:m=e.sent,m.success?(this.$refs.transferForm.resetFields(),this.transferForm.remarks="",this.lockedLoading=!1,this.$message({dangerouslyUseHTMLString:!0,message:this.$t("tips.tips15")+" txHash:<a class='fyellow'>"+m.hash+"</a>",type:"success",duration:"2000"})):this.$message({message:this.$t("tips.tips14")+JSON.stringify(m.data),type:"error",duration:"3000"});case 34:case"end":return e.stop()}}),e,this)})));function s(s){return e.apply(this,arguments)}return s}(),toUrl:function(e,s,t){if(0===t)this.$router.push({name:e});else{var r=Object(f["h"])(e,s);window.open(r)}}}},b=p,h=(t("abaf"),t("2877")),g=Object(h["a"])(b,r,a,!1,null,null,null);s["default"]=g.exports},d1f0:function(e,s,t){"use strict";var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("el-dialog",{staticClass:"password-dialog",attrs:{title:e.$t("tips.password0"),visible:e.passwordVisible,top:"30vh",width:e.width,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(s){e.passwordVisible=s},open:e.passwordShow,close:e.passwordClose}},[t("el-form",{ref:"passwordForm",attrs:{model:e.passwordForm,rules:e.passwordRules},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{ref:"inpus",attrs:{type:"password",maxlength:22},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.enterSubmit("passwordForm")}},model:{value:e.passwordForm.password,callback:function(s){e.$set(e.passwordForm,"password",s)},expression:"passwordForm.password"}})],1)],1),e.isShowKeep?t("el-checkbox",{model:{value:e.keepRadio,callback:function(s){e.keepRadio=s},expression:"keepRadio"}},[t("span",[e._v("记住密码")])]):e._e(),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.passwordClose}},[e._v(e._s(e.$t("public.cancel")))]),t("el-button",{attrs:{type:e.isDisabled?"info":"success",disabled:e.isDisabled,id:"passwordInfo"},on:{click:function(s){return e.dialogSubmit("passwordForm")}}},[t("span",[e._v(" "+e._s(e.disabledInfo))])])],1)],1)},a=[],n=(t("ac4d"),t("8a81"),t("5df3"),t("1c4c"),t("7f7f"),t("6b54"),t("6ace"));function o(e,s){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=i(e))||s&&e&&"number"===typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,n=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw n}}}}function i(e,s){if(e){if("string"===typeof e)return l(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,s):void 0}}function l(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,r=new Array(s);t<s;t++)r[t]=e[t];return r}var c={props:{isTime:{type:Boolean,default:!1}},data:function(){var e=this,s=function(s,t,r){""===t?r(new Error(e.$t("tips.password0"))):r()};return{addressList:[],addressInfo:{},passwordVisible:!1,passwordForm:{password:""},passwordRules:{password:[{validator:s,trigger:["blur","change"]}]},isShowKeep:!1,keepRadio:!1,timeLag:3e5,width:Object(n["b"])()?"35%":"95%",isDisabled:!1,disabledValue:0,disabledInfo:""}},created:function(){0},mounted:function(){},watch:{passwordVisible:function(e){var s=this;e&&setTimeout((function(){s.$refs["inpus"].focus()}),200)}},methods:{enterSubmit:function(e){this.passwordForm.password&&this.dialogSubmit(e)},passwordClose:function(){this.$refs["passwordForm"].resetFields(),this.passwordVisible=!1,this.timeLag=3e5,this.keepRadio=!1},showPassword:function(e,s){var t=this;if(this.addressList=Object(n["f"])(0),s)if(this.isShowKeep=!0,this.addressInfo=this.addressList.filter((function(e){return e.address===s}))[0],this.addressInfo.password){this.passwordForm.password=this.addressInfo.password,this.keepRadio=!0,this.disabledValue=3,this.isDisabled=!0,this.disabledInfo="合约参数验证中:"+this.disabledValue;var r=setInterval((function(){t.disabledValue=t.disabledValue-1,t.disabledInfo="合约参数验证中:"+t.disabledValue,0===t.disabledValue&&(clearInterval(r),t.isDisabled=!1,t.disabledInfo=t.$t("public.confirm"))}),1e3)}else this.isShowKeep=!0,this.isDisabled=!1,this.disabledInfo=this.$t("public.confirm");else this.isShowKeep=!1,this.isDisabled=!1,this.disabledInfo=this.$t("public.confirm");this.passwordVisible=e},dialogSubmit:function(e){var s=this;this.$refs[e].validate((function(e){if(!e)return!1;if(s.keepRadio){var t,r=o(s.addressList);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.address===s.addressInfo.address&&(a.password=s.passwordForm.password)}}catch(c){r.e(c)}finally{r.f()}}else{var n,i=o(s.addressList);try{for(i.s();!(n=i.n()).done;){var l=n.value;l.address===s.addressInfo.address&&(l.password="")}}catch(c){i.e(c)}finally{i.f()}}localStorage.setItem("addressData",JSON.stringify(s.addressList)),s.$emit("passwordSubmit",s.passwordForm.password),s.passwordVisible=!1}))}}},d=c,f=(t("7672"),t("2877")),u=Object(f["a"])(d,r,a,!1,null,null,null);s["a"]=u.exports},f6e7:function(e,s,t){}}]);
//# sourceMappingURL=chunk-2790b584.c86997b3.js.map